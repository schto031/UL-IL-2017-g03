\subsection{Operation Model for isNearTo}

\label{OM-isNearTo}


The \msrcode{isNearTo} operation has the following properties:

	\begin{operationmodel}
	\addheading{Operation}
	\adddoublerow{isNearTo}{used to determine if locations are considered enough close to be treated as equivalent in the application domain context. In the context of the iCrash system, we compute the distance between two GPS locations using the following Haversine formula.
	(more details can be found at: 
	  http://www.movable-type.co.uk/scripts/latlong.html
	  and http://www.gpsvisualizer.com/calculators\#distance
	)
	 }

	\addrowheading{Parameters}
	\addnumbereddoublerow{}{AGPSLocation: dtGPSLocation}{the GPS location to be compared to.} 

	\addrowheading{Return type}
	\addsinglerow{ptBoolean}

		

	\addrowheading{Post-Condition (functional)}
	\addnumberedsinglerow{PostF}{ if the Haversine formula (ACOS(SIN(lat1)*SIN(lat2)+COS(lat1)*COS(lat2)*COS(lon2-lon1))*6371, in which latitudes and longitudes are in radiansapplied to the two dtGPS coordinates is lower to 100 meters)
	then the predicate is true and false otherwise.}

	\end{operationmodel}



	
	
	
	





